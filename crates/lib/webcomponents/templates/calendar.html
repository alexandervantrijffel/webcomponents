{% macro day(label,datetime,in_this_month,rounded_classes) %}
{% let bg_class -%}
{% if in_this_month -%}
{% let bg_class = "bg-boxdark text-white" -%}
{% else %}
{% let bg_class = "bg-meta-4 text-gray-400" -%}
{% endif -%}
{% let rounded_classes2 -%}
{% if rounded_classes.is_empty() -%}
{% let rounded_classes2 = "!rounded-none" -%}
{% else -%}
{% let rounded_classes2 = rounded_classes -%}
{% endif -%}
<button type="button" class="{{ bg_class }} py-1.5 hover:bg-meta-4 focus:z-10 {{ rounded_classes2 }}">
  <time datetime="{{ datetime }}" class="mx-auto flex h-7 w-7 items-center justify-center rounded-full">{{ label
    }}</time>
</button>
{% endmacro %}

{# for generating tailwind classes #}
<div
  class="bg-boxdark bg-meta-4 !rounded-none text-white text-gray-400 rounded-tl-none rounded-b-none rounded-tl-lg rounded-tr-none rounded-tr-lg foxus:z-10">
</div>
<div class="hidden w-1/2 max-w-md flex-none border-l border-strokedark px-8 py-10 md:block">
  <div class="flex items-center text-center text-white">
    <button type="button" class="-m-1.5 flex flex-none items-center justify-center p-1.5 text-gray-400">
      <span class="sr-only">Previous month</span>
      <svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
        <path fill-rule="evenodd"
          d="M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z"
          clip-rule="evenodd" />
      </svg>
    </button>
    <div class="flex-auto text-sm font-semibold">January 2022</div>
    <button type="button" class="-m-1.5 flex flex-none items-center justify-center p-1.5 text-gray-400">
      <span class="sr-only">Next month</span>
      <svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
        <path fill-rule="evenodd"
          d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z"
          clip-rule="evenodd" />
      </svg>
    </button>
  </div>
  <div class="mt-6 grid grid-cols-7 text-center text-xs leading-6">
    {% for day_name in day_names %}<div>{{ day_name }}</div>{% endfor %}
  </div>
  <div class="isolate mt-2 grid grid-cols-7 gap-px rounded-lg bg-meta-4 text-sm shadow">
    {% call day(27,"2021-12-27",false,"rounded-tl-lg rounded-tr-none rounded-b-none") %}
    {% call day(28,"2021-12-28",false,"") %}
    {% call day(29,"2021-12-29",false,"") %}
    {% call day(30,"2021-12-30",false,"") %}
    {% call day(31,"2021-12-31",false,"") %}
    {% call day(1,"2022-01-01",true,"") %}
    {% call day(2,"2022-01-02",true,"rounded-tr-lg rounded-tl-none rounded-b-none focus:z-10") %}
    {% call day(3,"2022-01-03",true,"") %}
    {% call day(4,"2022-01-04",true,"") %}
    {% call day(5,"2022-01-05",true,"") %}
    {% call day(6,"2022-01-06",true,"") %}
    {% call day(7,"2022-01-07",true,"") %}
    {% call day(8,"2022-01-08",true,"") %}
    {% call day(9,"2022-01-09",true,"") %}
    {% call day(10,"2022-01-10",true,"") %}
    {% call day(11,"2022-01-11",true,"") %}
    {% call day(12,"2022-01-12",true,"") %}
    {% call day(13,"2022-01-13",true,"") %}
    {% call day(14,"2022-01-14",true,"") %}
    {% call day(15,"2022-01-15",true,"") %}
    {% call day(16,"2022-01-16",true,"") %}
    {% call day(17,"2022-01-17",true,"") %}
    {% call day(18,"2022-01-18",true,"") %}
    {% call day(19,"2022-01-19",true,"") %}
    <button type="button"
      class="bg-boxdark py-1.5 font-semibold text-indigo-600 hover:bg-meta-4 focus:z-10 !rounded-none">
      <time datetime="2022-01-20" class="mx-auto flex h-7 w-7 items-center justify-center rounded-full">20</time>
    </button>
    <button type="button" class="bg-boxdark py-1.5 text-white hover:bg-meta-4 focus:z-10 !rounded-none">
      <time datetime="2022-01-21" class="mx-auto flex h-7 w-7 items-center justify-center rounded-full">21</time>
    </button>
    <button type="button" class="bg-boxdark py-1.5 text-white hover:bg-meta-4 focus:z-10 !rounded-none">
      <time datetime="2022-01-22"
        class="mx-auto flex h-7 w-7 items-center justify-center rounded-full bg-meta-4 font-semibold text-white">22</time>
    </button>
    <button type="button" class="bg-boxdark py-1.5 text-white hover:bg-meta-4 focus:z-10 !rounded-none">
      <time datetime="2022-01-23" class="mx-auto flex h-7 w-7 items-center justify-center rounded-full">23</time>
    </button>
    <button type="button" class="bg-boxdark py-1.5 text-white hover:bg-meta-4 focus:z-10 !rounded-none">
      <time datetime="2022-01-24" class="mx-auto flex h-7 w-7 items-center justify-center rounded-full">24</time>
    </button>
    <button type="button" class="bg-boxdark py-1.5 text-white hover:bg-meta-4 focus:z-10 !rounded-none">
      <time datetime="2022-01-25" class="mx-auto flex h-7 w-7 items-center justify-center rounded-full">25</time>
    </button>
    <button type="button" class="bg-boxdark py-1.5 text-white hover:bg-meta-4 focus:z-10 !rounded-none">
      <time datetime="2022-01-26" class="mx-auto flex h-7 w-7 items-center justify-center rounded-full">26</time>
    </button>
    <button type="button" class="bg-boxdark py-1.5 text-white hover:bg-meta-4 focus:z-10 !rounded-none">
      <time datetime="2022-01-27" class="mx-auto flex h-7 w-7 items-center justify-center rounded-full">27</time>
    </button>
    <button type="button" class="bg-boxdark py-1.5 text-white hover:bg-meta-4 focus:z-10 !rounded-none">
      <time datetime="2022-01-28" class="mx-auto flex h-7 w-7 items-center justify-center rounded-full">28</time>
    </button>
    <button type="button" class="bg-boxdark py-1.5 text-white hover:bg-meta-4 focus:z-10 !rounded-none">
      <time datetime="2022-01-29" class="mx-auto flex h-7 w-7 items-center justify-center rounded-full">29</time>
    </button>
    <button type="button" class="bg-boxdark py-1.5 text-white hover:bg-meta-4 focus:z-10 !rounded-none">
      <time datetime="2022-01-30" class="mx-auto flex h-7 w-7 items-center justify-center rounded-full">30</time>
    </button>
    <button type="button"
      class="rounded-bl-lg rounded-t-none rounded-br-none bg-boxdark py-1.5 text-white hover:bg-meta-4 focus:z-10">
      <time datetime="2022-01-31" class="mx-auto flex h-7 w-7 items-center justify-center rounded-full">31</time>
    </button>
    <button type="button" class="bg-meta-4 py-1.5 text-gray-400 hover:bg-meta-4 focus:z-10 !rounded-none">
      <time datetime="2022-02-01" class="mx-auto flex h-7 w-7 items-center justify-center rounded-full">1</time>
    </button>
    <button type="button" class="bg-meta-4 py-1.5 text-gray-400 hover:bg-meta-4 focus:z-10 !rounded-none">
      <time datetime="2022-02-02" class="mx-auto flex h-7 w-7 items-center justify-center rounded-full">2</time>
    </button>
    <button type="button" class="bg-meta-4 py-1.5 text-gray-400 hover:bg-meta-4 focus:z-10 !rounded-none">
      <time datetime="2022-02-03" class="mx-auto flex h-7 w-7 items-center justify-center rounded-full">3</time>
    </button>
    <button type="button" class="bg-meta-4 py-1.5 text-gray-400 hover:bg-meta-4 focus:z-10 !rounded-none">
      <time datetime="2022-02-04" class="mx-auto flex h-7 w-7 items-center justify-center rounded-full">4</time>
    </button>
    <button type="button" class="bg-meta-4 py-1.5 text-gray-400 hover:bg-meta-4 focus:z-10 !rounded-none">
      <time datetime="2022-02-05" class="mx-auto flex h-7 w-7 items-center justify-center rounded-full">5</time>
    </button>
    <button type="button"
      class="rounded-br-lg rounded-t-none rounded-bl-none bg-meta-4 py-1.5 text-gray-400 hover:bg-meta-4 focus:z-10">
      <time datetime="2022-02-06" class="mx-auto flex h-7 w-7 items-center justify-center rounded-full">6</time>
    </button>
  </div>
</div>

{% macro day2(day) %}
<button type="button" class="py-1.5 hover:bg-meta-4 {{ day.corner_classes }} {{ day.color_classes }}">
  <time datetime="" class="mx-auto flex h-7 w-7 items-center justify-center rounded-full">{{ day.date.day() }}</time>
</button>
{% endmacro %}

<div class="hidden w-1/2 max-w-md flex-none border-l border-strokedark px-8 py-10 md:block">
  <div class="flex items-center text-center text-white">
    <button type="button" class="-m-1.5 flex flex-none items-center justify-center p-1.5 text-gray-400">
      <span class="sr-only">Previous month</span>
      <svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
        <path fill-rule="evenodd"
          d="M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z"
          clip-rule="evenodd" />
      </svg>
    </button>
    <div class="flex-auto text-sm font-semibold">{{ month_title }}</div>
    <button type="button" class="-m-1.5 flex flex-none items-center justify-center p-1.5 text-gray-400">
      <span class="sr-only">Next month</span>
      <svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
        <path fill-rule="evenodd"
          d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z"
          clip-rule="evenodd" />
      </svg>
    </button>
  </div>
  <div class="mt-6 grid grid-cols-7 text-center text-xs leading-6">
    {% for day_name in day_names %}<div>{{ day_name }}</div>{% endfor %}
  </div>
  <div class="isolate mt-2 grid grid-cols-7 gap-px rounded-lg bg-meta-4 text-sm shadow">
    {% for day in days %}
    {% call day2(day) %}
    {% endfor %}
  </div>
</div>
